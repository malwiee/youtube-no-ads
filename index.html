<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <title>YouTube</title>
  <meta name="description" content="YouTube">

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="YouTube">
  <link rel="apple-touch-icon" href="icon.svg">

  <!-- Theme -->
  <meta name="theme-color" content="#0f0f0f">
  <meta name="color-scheme" content="dark">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Google Fonts — Roboto -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- ====== LOGIN GATE ====== -->
  <div class="yt-login-gate" id="loginGate">
    <div class="yt-login-box">
      <svg class="yt-login-logo" viewBox="0 0 28 20" width="56" height="40">
        <path
          d="M27.27 3.12a3.5 3.5 0 00-2.47-2.47C22.6 0 14 0 14 0S5.4 0 3.2.65A3.5 3.5 0 00.73 3.12 36.6 36.6 0 000 10c0 2.3.24 4.6.73 6.88a3.5 3.5 0 002.47 2.47C5.4 20 14 20 14 20s8.6 0 10.8-.65a3.5 3.5 0 002.47-2.47c.49-2.28.73-4.58.73-6.88s-.24-4.6-.73-6.88z"
          fill="#FF0000" />
        <path d="M11.2 14.28V5.72L18.4 10l-7.2 4.28z" fill="#fff" />
      </svg>
      <h2 class="yt-login-title">YouTube</h2>
      <p class="yt-login-subtitle">Inserisci il codice da Google Authenticator</p>
      <div class="yt-login-form">
        <input type="text" inputmode="numeric" pattern="[0-9]*" maxlength="6" class="yt-login-input" id="loginPassword"
          placeholder="000 000" autocomplete="one-time-code" autofocus>
        <button class="yt-login-btn" id="loginBtn">Verifica</button>
      </div>
      <p class="yt-login-error" id="loginError"></p>
    </div>
  </div>

  <!-- ====== HEADER ====== -->
  <header class="yt-header" id="ytHeader">
    <div class="yt-header-start">
      <button class="yt-icon-btn yt-menu-btn" id="menuBtn" aria-label="Menu">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
        </svg>
      </button>
      <a class="yt-logo" id="logo" href="#">
        <svg class="yt-logo-icon" viewBox="0 0 28 20" width="28" height="20">
          <path
            d="M27.27 3.12a3.5 3.5 0 00-2.47-2.47C22.6 0 14 0 14 0S5.4 0 3.2.65A3.5 3.5 0 00.73 3.12 36.6 36.6 0 000 10c0 2.3.24 4.6.73 6.88a3.5 3.5 0 002.47 2.47C5.4 20 14 20 14 20s8.6 0 10.8-.65a3.5 3.5 0 002.47-2.47c.49-2.28.73-4.58.73-6.88s-.24-4.6-.73-6.88z"
            fill="#FF0000" />
          <path d="M11.2 14.28V5.72L18.4 10l-7.2 4.28z" fill="#fff" />
        </svg>
        <span class="yt-logo-text">YouTube</span>
      </a>
    </div>

    <div class="yt-header-center">
      <div class="yt-search-box">
        <input type="search" class="yt-search-input" id="searchInput" placeholder="Cerca" autocomplete="off"
          enterkeyhint="search">
        <button class="yt-search-btn" id="searchBtn" aria-label="Cerca">
          <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
            <path
              d="M20.87 20.17l-5.59-5.59A6.96 6.96 0 0017 10c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7a6.96 6.96 0 004.58-1.72l5.59 5.59.7-.7zM10 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z" />
          </svg>
        </button>
      </div>
      <button class="yt-icon-btn yt-voice-btn" aria-label="Ricerca vocale">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z" />
          <path
            d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z" />
        </svg>
      </button>
    </div>

    <div class="yt-header-end">
      <button class="yt-icon-btn" aria-label="Crea">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2zm3-6v12H3V7h14zm1-2H2v16h16V5zm4 0v14h-2V5h2z" />
        </svg>
      </button>
      <button class="yt-icon-btn" aria-label="Notifiche">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M10 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm10-2.65V11c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C9.63 5.36 8 7.92 8 11v6.35L6 19.3V20h16v-.7l-2-1.95zM16 17H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z" />
        </svg>
      </button>
      <button class="yt-avatar-btn" id="avatarBtn" aria-label="Account">
        <div class="yt-avatar-circle">
          <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
          </svg>
        </div>
      </button>
    </div>
  </header>

  <!-- ====== CHIP BAR ====== -->
  <div class="yt-chips-bar" id="chipsBar">
    <div class="yt-chips-scroll" id="chipsScroll">
      <button class="yt-chip active" data-filter="all">Tutto</button>
      <button class="yt-chip" data-filter="music">Musica</button>
      <button class="yt-chip" data-filter="gaming">Videogiochi</button>
      <button class="yt-chip" data-filter="news">Notizie</button>
      <button class="yt-chip" data-filter="sports">Sport</button>
      <button class="yt-chip" data-filter="learning">Formazione</button>
      <button class="yt-chip" data-filter="fashion">Moda</button>
      <button class="yt-chip" data-filter="movies">Film</button>
      <button class="yt-chip" data-filter="live">Dal vivo</button>
      <button class="yt-chip" data-filter="recent">Caricati di recente</button>
      <button class="yt-chip" data-filter="watched">Guardati</button>
    </div>
  </div>

  <!-- ====== SIDEBAR (desktop) ====== -->
  <aside class="yt-sidebar" id="sidebar">
    <div class="yt-sidebar-items">
      <a class="yt-sidebar-item active" data-page="home">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M4 21V10.08l8-6.96 8 6.96V21h-6v-6h-4v6H4z" />
        </svg>
        <span>Home</span>
      </a>
      <a class="yt-sidebar-item" data-page="trending">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M17.53 11.2c-.23-.3-.46-.58-.69-.86-.45-.56-.9-1.09-1.27-1.68-.69-1.1-.9-2.26-.6-3.53.13-.53.33-1.04.57-1.51-1.45.72-2.53 1.78-3.3 3.13-.34.6-.55 1.24-.66 1.92-.04.26-.06.52-.06.78 0 .08-.01.17-.02.25-.05.27-.17.45-.44.49-.27.04-.48-.1-.6-.34-.07-.14-.11-.3-.12-.47-.14-1.41.12-2.73.77-3.96.14-.27.3-.53.47-.78-1.43 1.17-2.33 2.64-2.72 4.41-.15.66-.2 1.34-.17 2.03.07 1.34.47 2.56 1.2 3.66.55.83 1.24 1.54 2.05 2.11.25.18.52.34.8.49l.12.06c-.03-.1-.06-.19-.1-.28-.32-.85-.35-1.72-.1-2.6.17-.6.45-1.14.83-1.62.06-.08.12-.15.18-.22l.2.22c.51.59.86 1.27 1.03 2.03.05.24.09.49.1.74 0 .08 0 .16.01.24.02.51-.02 1.02-.12 1.52-.15.73-.44 1.4-.86 2-.3.43-.65.82-1.05 1.17l-.06.05c.66-.02 1.3-.16 1.92-.42.75-.33 1.4-.78 1.96-1.36.82-.85 1.35-1.86 1.58-3.02.07-.36.11-.73.12-1.1v-.2c-.01-1.12-.33-2.14-.9-3.07z" />
        </svg>
        <span>Tendenze</span>
      </a>
      <a class="yt-sidebar-item" data-page="shorts">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M10 14.65v-5.3L15 12l-5 2.65zm7.77-4.33c-.77-.32-1.2-.5-1.2-.5L18 9.06c1.84-.96 2.53-3.23 1.56-5.06s-3.24-2.53-5.07-1.56L6 6.94c-1.29.68-2.07 2.04-2 3.49.07 1.42.93 2.67 2.22 3.25.03.01 1.2.5 1.2.5L6 14.93c-1.83.97-2.53 3.24-1.56 5.07.97 1.83 3.24 2.53 5.07 1.56l8.5-4.5c1.29-.68 2.06-2.04 1.99-3.49-.07-1.42-.94-2.68-2.23-3.25z" />
        </svg>
        <span>Shorts</span>
      </a>
      <a class="yt-sidebar-item" data-page="subscriptions">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M10 18v-6l5 3-5 3zm7-15H7v1h10V3zm3 3H4v1h16V6zm2 3H2v12h20V9zM3 20V10h18v10H3z" />
        </svg>
        <span>Iscrizioni</span>
      </a>
      <div class="yt-sidebar-divider"></div>
      <a class="yt-sidebar-item" data-page="library">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zm-8-2l6-4-6-4v8z" />
        </svg>
        <span>Libreria</span>
      </a>
      <a class="yt-sidebar-item" data-page="history">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path
            d="M14.97 16.95L10 13.87V7h2v5.76l4.03 2.49-1.06 1.7zM22 12c0 5.51-4.49 10-10 10S2 17.51 2 12h2c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8C9.04 4 6.53 5.4 5 7.6V4H3v6h6V8H5.72C6.96 5.83 9.29 4.5 12 4.5 16.14 4.5 19.5 7.86 19.5 12H22z"
            fill="none" />
          <path
            d="M14.97 16.95L10 13.87V7h2v5.76l4.03 2.49-1.06 1.7zM22 12c0 5.51-4.49 10-10 10S2 17.51 2 12h2c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8C9.04 4 6.53 5.4 5 7.6V4H3v6h6V8H5.72C6.96 5.83 9.29 4.5 12 4.5c4.14 0 7.5 3.36 7.5 7.5H22z" />
        </svg>
        <span>Cronologia</span>
      </a>
    </div>
  </aside>

  <!-- ====== MAIN CONTENT ====== -->
  <main class="yt-main" id="ytMain">
    <!-- Video Grid (Home / Trending / Search) -->
    <div class="yt-video-grid" id="videoGrid"></div>

    <!-- Load More -->
    <div class="yt-load-more" id="loadMoreWrapper" style="display:none;">
      <button class="yt-load-more-btn" id="loadMoreBtn">Mostra altri</button>
    </div>
  </main>

  <!-- ====== VIDEO PLAYER PAGE ====== -->
  <div class="yt-player-page" id="playerPage">
    <div class="yt-player-container">
      <div class="yt-player-video-wrap">
        <video id="videoPlayer" controls playsinline webkit-playsinline preload="metadata"
          crossorigin="anonymous"></video>
      </div>
    </div>

    <div class="yt-player-content">
      <div class="yt-player-primary">
        <h1 class="yt-player-title" id="playerTitle"></h1>

        <div class="yt-player-meta" id="playerMeta">
          <span class="yt-player-views" id="playerViews"></span>
          <span class="yt-player-date" id="playerDate"></span>
        </div>

        <div class="yt-player-actions">
          <button class="yt-action-btn" id="likeBtn">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path
                d="M18.77 11h-4.23l1.52-4.94C16.38 5.03 15.54 4 14.38 4c-.58 0-1.14.24-1.52.65L7 11H1v11h4.4c.74 0 1.36-.49 1.55-1.18l2.68-9.22H18.77c.72 0 1.33-.53 1.42-1.25l.58-4.6C20.88 5.27 20.4 4.78 19.77 4.78h-.01L18.77 11z" />
            </svg>
            <span id="likeCount">—</span>
          </button>
          <button class="yt-action-btn" id="dislikeBtn">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor" style="transform:rotate(180deg)">
              <path
                d="M18.77 11h-4.23l1.52-4.94C16.38 5.03 15.54 4 14.38 4c-.58 0-1.14.24-1.52.65L7 11H1v11h4.4c.74 0 1.36-.49 1.55-1.18l2.68-9.22H18.77c.72 0 1.33-.53 1.42-1.25l.58-4.6C20.88 5.27 20.4 4.78 19.77 4.78h-.01L18.77 11z" />
            </svg>
          </button>
          <button class="yt-action-btn" id="shareBtn">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path
                d="M15 5.63L20.66 12 15 18.37V14h-1c-3.96 0-7.14 1-9.75 3.09 1.84-4.07 5.11-6.4 9.89-7.1l.86-.13V5.63M14 3v6C6.22 10.13 3.11 15.33 2 21c2.78-3.97 6.44-6 12-6v6l8-9-8-9z" />
            </svg>
            <span>Condividi</span>
          </button>
          <button class="yt-action-btn" id="pipBtn">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path
                d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z" />
            </svg>
            <span>PiP</span>
          </button>
        </div>

        <div class="yt-player-channel">
          <div class="yt-player-channel-avatar"><img id="channelAvatar" alt=""></div>
          <div class="yt-player-channel-info">
            <div class="yt-player-channel-name" id="channelName"></div>
            <div class="yt-player-channel-subs" id="channelSubs"></div>
          </div>
          <button class="yt-subscribe-btn">ISCRIVITI</button>
        </div>

        <div class="yt-player-description" id="playerDescription">
          <p id="playerDescText"></p>
        </div>
      </div>

      <div class="yt-player-secondary">
        <h3 class="yt-related-title">Video suggeriti</h3>
        <div class="yt-related-list" id="relatedList"></div>
      </div>
    </div>
  </div>

  <!-- ====== BOTTOM NAV (mobile) ====== -->
  <nav class="yt-bottom-nav" id="bottomNav">
    <button class="yt-bottom-item active" data-page="home">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path d="M4 21V10.08l8-6.96 8 6.96V21h-6v-6h-4v6H4z" />
      </svg>
      <span>Home</span>
    </button>
    <button class="yt-bottom-item" data-page="trending">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path
          d="M17.53 11.2c-.23-.3-.46-.58-.69-.86-.45-.56-.9-1.09-1.27-1.68-.69-1.1-.9-2.26-.6-3.53.13-.53.33-1.04.57-1.51-1.45.72-2.53 1.78-3.3 3.13-.34.6-.55 1.24-.66 1.92-.04.26-.06.52-.06.78 0 .08-.01.17-.02.25-.05.27-.17.45-.44.49-.27.04-.48-.1-.6-.34-.07-.14-.11-.3-.12-.47-.14-1.41.12-2.73.77-3.96.14-.27.3-.53.47-.78-1.43 1.17-2.33 2.64-2.72 4.41-.15.66-.2 1.34-.17 2.03.07 1.34.47 2.56 1.2 3.66.55.83 1.24 1.54 2.05 2.11.25.18.52.34.8.49l.12.06c-.03-.1-.06-.19-.1-.28-.32-.85-.35-1.72-.1-2.6.17-.6.45-1.14.83-1.62.06-.08.12-.15.18-.22l.2.22c.51.59.86 1.27 1.03 2.03.05.24.09.49.1.74 0 .08 0 .16.01.24.02.51-.02 1.02-.12 1.52-.15.73-.44 1.4-.86 2-.3.43-.65.82-1.05 1.17l-.06.05c.66-.02 1.3-.16 1.92-.42.75-.33 1.4-.78 1.96-1.36.82-.85 1.35-1.86 1.58-3.02.07-.36.11-.73.12-1.1v-.2c-.01-1.12-.33-2.14-.9-3.07z" />
      </svg>
      <span>Esplora</span>
    </button>
    <button class="yt-bottom-item yt-bottom-create" data-page="create">
      <div class="yt-create-icon">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
        </svg>
      </div>
    </button>
    <button class="yt-bottom-item" data-page="subscriptions">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path d="M10 18v-6l5 3-5 3zm7-15H7v1h10V3zm3 3H4v1h16V6zm2 3H2v12h20V9zM3 20V10h18v10H3z" />
      </svg>
      <span>Iscrizioni</span>
    </button>
    <button class="yt-bottom-item" data-page="library">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path
          d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zm-8-2l6-4-6-4v8z" />
      </svg>
      <span>Libreria</span>
    </button>
  </nav>

  <!-- ====== HIDDEN AUDIO (iOS background playback) ====== -->
  <audio id="bgAudio" preload="none" loop="false" webkit-playsinline playsinline></audio>

  <!-- ====== TOAST ====== -->
  <div class="yt-toast" id="toast"></div>

  <!-- Auth (TOTP) -->
  <script src="auth.js"></script>

  <!-- App Script -->
  <script src="app.js"></script>
</body>

</html>